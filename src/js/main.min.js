"use strict";!function(){var s=window.ellaBookH5IP?window.ellaBookH5IP+"/rest/api/service":"http://118.31.171.207:9000/rest/api/service",a="",i="",c="";$.post(s,{method:"ella.user.listVipExchangeMenu",content:JSON.stringify({uid:ellaH5.getQuery("uid")})},function(e){"0"===(e=JSON.parse(e)).status?window.ellaH5.alert(e.message,{style:{color:"#fff"},timeout:1500}):(function(e){var n=function(s){var e="",t="";return s.list.forEach(function(e,n){t+='\n          <div class="memberItem" data-params='.concat(e.exchangeCode+","+e.thirdCode+","+e.thirdType," data-info=").concat(e.activeTime+","+e.points+","+s.userInfo.pointsBalance,'>\n          <div class="countsInfo">\n            <p>').concat(e.title,"</p>\n            <p>原价：<span>").concat(e.price,'元</span></p>\n          </div>\n          <div class="counts">').concat(e.points," 积分</div>\n        </div>\n        ")}),e+='\n        <div class="header">\n\n        <img src='.concat(s.userInfo.userAvatar?s.userInfo.userAvatar:"./imgs/defualtPho.png",' />\n        <div class="headTxt">\n          <p>').concat(s.userInfo.userNick,"</p>\n          <p>剩余会员：<span>").concat(s.userInfo.vipLeftDays,'天</span></p>\n        </div>\n      </div>\n      <div class="members">\n        <p class="title">积分换会员</p>\n        <div class="membersMain">\n         ').concat(t,"\n        </div>\n\n      </div>")}(e);$(".memberIntroduce").before(n),$(".memberItem").on("click",function(){$(".memberModal").css({display:"block"}),$(".shade").css({display:"block"}),console.log($(this).data("info"));var e=$(this).data("info").split(","),n=e[0],s=e[1],t=e[2];$(".lastPoint").html(t),$(".activeTime").html(n),$(".points").html(s);var o=$(this).data("params").split(",");a=o[0],i=o[1],c=o[2]}),$(".close").on("click",function(){$(".memberModal").css({display:"none"}),$(".shade").css({display:"none"})}),$(".save").on("click",function(){$.post(s,{method:"ella.order.pointsExchange",content:JSON.stringify({exchangeCode:a,thirdCode:i,thirdType:c}),uid:ellaH5.getQuery("uid"),channelCode:"H5",token:"guest"},function(e){"1"===(e=JSON.parse(e)).status?($(".j-pop").css({display:"block"}),$(".j-pop").html("支付成功！"),setTimeout(function(){$(".j-pop").css({display:"none"}),location.reload(!0)},2e3)):($(".j-pop").css({display:"block"}),$(".j-pop").html(e.message),setTimeout(function(){$(".j-pop").css({display:"none"})},2e3))})})}(e.data),document.getElementById("Loading").style.display="none",document.getElementById("Loading").remove())})}();
//# sourceMappingURL=maps/main.min.js.map
