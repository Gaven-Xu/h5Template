<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>H5é¡¹ç›®æ–‡æ¡£ Index</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.readable.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">H5é¡¹ç›®æ–‡æ¡£</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html#checkEnvironment">checkEnvironment</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initVipData">initVipData</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	
	











	
	





    <section class="readme-section">
        <article><hr>
<p>title: &quot;H5å¼€å‘æ–‡æ¡£&quot;
export_on_save:
  html: true
html: </p>
<h2>  toc: true</h2><h1>1. è”ç³»æ–¹å¼</h1><p>è§„èŒƒçš„ç›®çš„æ˜¯æ–¹ä¾¿å¤§å®¶ï¼Œç®€åŒ–å¼€å‘æµç¨‹ï¼Œå‡å°‘é‡å¤å·¥ä½œ
å¦‚æœ‰ä¸ä¾¿çš„åœ°æ–¹ï¼Œå¸Œæœ›åŠæ—¶åé¦ˆç»™æˆ‘</p>
<p>ğŸ˜€ å¾ä½³ç¨‹</p>
<p>ğŸ“ 18758037064 (ç”µè¯ã€é’‰é’‰ã€å¾®ä¿¡)</p>
<p>âœ‰ <a href="mailto:xujiacheng@ellabook.cn">xujiacheng@ellabook.cn</a></p>
<h1>2. é¡¹ç›®è¯´æ˜</h1><p>åŸºäºGulpé…ç½®çš„è‡ªåŠ¨åŒ–æµç¨‹ï¼Œç›®å‰æ”¯æŒçš„åŠŸèƒ½ï¼š</p>
<ul>
<li>[x] scssç¼–è¯‘ï¼Œå‹ç¼©</li>
<li>[x] es6ç¼–è¯‘ï¼Œå‹ç¼©ï¼Œæ··æ·†åŠ å¯†</li>
<li>[x] å¼€å‘ç¯å¢ƒsourcemapsï¼Œç”Ÿäº§ç¯å¢ƒæ··æ·†åŠ å¯†</li>
<li>[x] ç”Ÿæˆzipéƒ¨ç½²åŒ…ï¼ˆgulp zipï¼‰</li>
<li>[ ] å›¾ç‰‡å‹ç¼©</li>
<li>[x] H5çš„jså·¥å…·åº“ellaH5ï¼ˆå¼¹çª—ã€urlå–å‚ï¼‰<ul>
<li>[x] setRem</li>
<li>[x] getQuery</li>
<li>[x] alert</li>
</ul>
</li>
</ul>
<h2>2.1. é¡¹ç›®ç»“æ„</h2><pre class="prettyprint source lang-sh"><code># æ­¤å¤„ä»…åˆ—å‡ºä¸å¼€å‘ç›¸å…³çš„éƒ¨åˆ†

|--[é¡¹ç›®ç›®å½•]
    |--ipConfig.js      è¿™é‡Œé…ç½®çš„æ˜¯æ¥å£åœ°å€ï¼Œå¯ä»¥ä¿®æ”¹ipå’Œç«¯å£ï¼Œä½†æ˜¯ä¸è¦å¢åŠ å’Œä¿®æ”¹é¢å¤–éƒ¨åˆ†
    |--src              å¼€å‘ç›®å½•
        |--index.html   é¡¹ç›®é¦–é¡µï¼Œå¦‚æœæœ‰å¤šé¡µé¢ï¼Œæ”¾åœ¨ä¸index.htmlåŒä¸€çº§
        |--es           jså¼€å‘ç›®å½•ï¼ŒES3ï¼ŒES6éƒ½å†™åœ¨è¿™é‡Œï¼Œè¯¥ç›®å½•çš„jsä¼šè¿›è¡Œç¼–è¯‘ã€å‹ç¼©ã€æ··æ·†
        |--scss         csså¼€å‘ç›®å½•ï¼Œç»Ÿä¸€é‡‡ç”¨scssåç¼€
        |--lib          ç¬¬ä¸‰æ–¹åº“ç›®å½•ï¼Œç¬¬ä¸‰æ–¹çš„cssæˆ–è€…jséƒ½å¯ä»¥æ”¾åˆ°è¿™é‡Œï¼Œä¸è¿›è¡Œä»»ä½•å‹ç¼©ï¼Œä¾‹å¦‚zepto.min.js
          |--ellaH5     å…¬å¸ç»Ÿä¸€æŠ½ç¦»å‡ºæ¥çš„å·¥å…·åº“ï¼Œä¸éœ€è¦å‹ç¼©çš„
        |--fonts        å­—ä½“ç›®å½•ï¼Œéœ€è¦ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“çš„æ—¶å€™ï¼Œè¯·åœ¨çº¿è¿›è¡Œå­—ä½“è£å‰ª https://www.disidu.com/online-ttf-subset.html
        |--imgs         å›¾ç‰‡ç›®å½•
        |--js           !!! csså’Œjsç›®å½•ï¼Œéƒ½æ˜¯ç¼–è¯‘åçš„ç›®å½•ï¼Œä¼šè¢«è‡ªåŠ¨ç¼–è¯‘æ¸…ç©ºï¼Œä¸è¦æ‰‹åŠ¨åœ¨è¿™ä¸¤ä¸ªç›®å½•å†™ä»»ä½•ä»£ç 
        |--css          !!! csså’Œjsç›®å½•ï¼Œéƒ½æ˜¯ç¼–è¯‘åçš„ç›®å½•ï¼Œä¼šè¢«è‡ªåŠ¨ç¼–è¯‘æ¸…ç©ºï¼Œä¸è¦æ‰‹åŠ¨åœ¨è¿™ä¸¤ä¸ªç›®å½•å†™ä»»ä½•ä»£ç </code></pre><h2>2.2. å¼€å‘æ­¥éª¤</h2><pre class="prettyprint source lang-sh"><code># ä»ä»¥ä¸‹åœ°å€æ‹‰å–H5-templateï¼Œ
git clone git@git.ellabook.cn:front-end/h5-template.git [é¡¹ç›®ç›®å½•]
cd [é¡¹ç›®ç›®å½•]
gulp

# æ ¹æ®çº¦å®šå¥½çš„ç›®å½•ç»“æ„å¼€å‘

# éƒ¨ç½²ä¹‹å‰
gulp zip

# å¦‚æœéƒ¨ç½²äººå‘˜éœ€è¦zipåŒ…ï¼ŒæŠŠdist.zipå‘è¿‡å»å³å¯ï¼Œå¦‚æœéœ€è¦è‡ªå·±éƒ¨ç½²åˆ°ftpï¼Œå¤åˆ¶srcä¸‹å…¨éƒ¨å†…å®¹å³å¯
</code></pre><h2>2.3. ç¬¬ä¸‰æ–¹åº“</h2><ul>
<li>å°½å¯èƒ½é€‰æ‹©ä½“ç§¯å°çš„ï¼Œæ¯”å¦‚jQueryå’ŒZeptoï¼Œå°½é‡ä½¿ç”¨Zepto</li>
<li>ä¸è¦ä»ç¬¬ä¸‰æ–¹CDNè®¿é—®ï¼Œä½¿ç”¨çš„ç¬¬ä¸‰æ–¹å·¥å…·æ”¾å…¥libç›®å½•</li>
</ul>
<h2>2.4. å·¥å…·å°è£…</h2><ul>
<li>è‡ªå·±å°è£…çš„å·¥å…·ï¼Œæ”¾åœ¨esç›®å½•ä¸‹ï¼Œåç»­å¯ä»¥æä¾›ç»™æ¶æ„ç»„ï¼ŒåŠ å…¥åˆ°ellaH5å·¥å…·åº“ä¸­</li>
</ul>
<h2>2.5. æ³¨æ„äº‹é¡¹</h2><p>ä¸è¦åœ¨ css å’Œ js ç›®å½•ä¸‹åˆ›å»ºä»£ç ï¼Œä¼šè¢«è‡ªåŠ¨åŒ–ç¼–è¯‘åˆ é™¤
ä¸éœ€è¦ç¼–è¯‘çš„ä»£ç ï¼Œä»¥åŠç¬¬ä¸‰æ–¹çš„æ’ä»¶ï¼Œå»ºè®®æ”¾åˆ°libä¸‹</p>
<h1>æ³¨é‡Šè§„èŒƒ</h1><p>æ³¨é‡ŠæŒ‰ç…§jsdocè§„èŒƒè¦æ±‚ï¼šhttp://usejsdoc.org/</p>
<pre class="prettyprint source lang-js"><code>/** 
 * @function checkEnvironment
 * @description æ£€æµ‹è®¾å¤‡ç±»å‹
 * @param {string} defaultType å½“æ£€æµ‹åˆ°ä¸æ˜¯iPhoneå’ŒAndroidæ—¶çš„é»˜è®¤è¿”å›
 * @returns {string} iPhone|Android|defaultType
 */
function checkEnvironment(defaultType) {
  // isInApp æ˜¯å¦åœ¨APPä¸­ï¼ŒmobileType æ‰‹æœºæ“ä½œç³»ç»Ÿç±»å‹
  let isInApp, mobileType;
  if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {
    if (!!window.webkit && !!window.webkit.messageHandlers && !!window.webkit.messageHandlers.showSharePop) {
      isInApp = true;
    }
    mobileType = &quot;iPhone&quot;;
  } else if (/(Android)/i.test(navigator.userAgent)) {
    if (!!window.WebView && !!window.WebView.showSharePop) {
      isInApp = true;
    }
    mobileType = &quot;Android&quot;;
  } else {
    isInApp = false;
    mobileType = defaultType;
  }

  window.isInApp = isInApp;
  window.mobileType = mobileType;

  return {
    isInApp: !!isInApp,
    mobileType
  }
}</code></pre><h1>3. rubyå’Œjsduckå®‰è£…</h1><p>æœ¬é¡¹ç›®é…ç½®äº†æ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼Œgulp-jsduckï¼Œéœ€è¦ä¾èµ–äºrubyï¼Œä»¥åŠjsduckï¼Œè¿™ä¸¤ä¸ªä¸œè¥¿ä»…å®‰è£…ä¸€æ¬¡å°±å¯ä»¥äº†ï¼š
http://<a href="http://www.ruby-lang.org/en/documentation/installation/#rubyinstaller">www.ruby-lang.org/en/documentation/installation/#rubyinstaller</a></p>
<p>å®‰è£…å¥½rubyä¹‹åï¼Œæ‰§è¡Œ</p>
<pre class="prettyprint source lang-ruby"><code>gem install jsduck</code></pre><h1>4. gulpå®‰è£…</h1><p>ç”±äºæœ¬é¡¹ç›®ä½¿ç”¨gulp4.0ï¼Œåœ¨gulp-cliçš„å®‰è£…ä¸Šæœ‰ç‚¹åŒºåˆ«</p>
<pre class="prettyprint source lang-sh"><code>npm install gulpjs/gulp-cli -g
æˆ–
cnpm install gulpjs/gulp-cli -g

å¦‚æœæŠ¥æƒé™ç›¸å…³çš„é”™è¯¯ï¼Œè¯·ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€gulp

gulp -vä¹‹ååº”è¯¥æ˜¾ç¤º
CLI version 3.9.1
Local version 4.0.0</code></pre><h1>5. gulpå‘½ä»¤</h1><ul>
<li><p>gulp / gulp default</p>
<pre class="prettyprint source"><code>ç¼–è¯‘scsså’Œes
ç„¶åå¼€å¯ç›¸å…³çš„ç›‘å¬</code></pre></li>
<li><p>gulp build</p>
<pre class="prettyprint source"><code>æ¸…ç† css å’Œ js ç›®å½•
ç„¶åç¼–è¯‘scsså’Œes
ç„¶åç”Ÿæˆdist</code></pre></li>
<li><p>gulp clean</p>
<pre class="prettyprint source"><code>ä»…æ¸…ç† css å’Œ js ç›®å½•</code></pre></li>
<li><p>--dev</p>
<pre class="prettyprint source"><code>ä¸ºæ–¹ä¾¿è°ƒè¯•ï¼Œå¯ä»¥æ ¹æ®éœ€è¦ï¼Œåœ¨ä¸Šè¿°å‘½ä»¤åé¢åŠ ä¸Š--dev
ç”Ÿæˆ sourcemaps
ä¸è¿›è¡Œæ··æ·†åŠ å¯†
gulp --dev</code></pre></li>
</ul></article>
    </section>







		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
	
		on 2019-04-17T18:22:42+08:00
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : false,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>