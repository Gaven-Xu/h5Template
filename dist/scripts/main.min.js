"use strict";!function(){var n=function(){var n,e;e=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.showSharePop&&(n=!0),"iPhone"):/(Android)/i.test(navigator.userAgent)?(window.WebView&&window.WebView.showSharePop&&(n=!0),"Android"):(n=!1,"other");return window.isInApp=n,window.mobileType=e,{isInApp:!!n,mobileType:e}}(),a=n.isInApp,i=(n.mobileType,window.ellaH5API||"http://qaapi.ellabook.cn/rest/api/service"),s="https://a.app.qq.com/o/simple.jsp?pkgname=com.ellabook",c="感谢喜欢这本书，绘本上线当天会通知您来看哦！",d="";a||(c="下载咿啦看书APP查看完整绘本书单",d="新用户免费赠送绘本大礼包哦",document.querySelector(".weixin").style.display="block",document.querySelector(".weixin").onclick=function(){window.open(s)}),window.ellaH5.options={id:"AlertBox",style:{width:"70%",left:"10%",top:"35%",transform:"translate(0,0)",webkitTransform:"translate(0,0)",padding:"5%",backgroundColor:"#ffffff",borderRadius:"0.21rem"},maskStyle:{zIndex:1e3,backgroundColor:"rgba(0,0,0,0.5)"},confirmText:"好的",confirmStyle:{display:"block",width:"1.56rem",height:".6rem",background:"#5baaf3",textAlign:"center",lineHeight:".6rem",borderRadius:".32rem",margin:".3rem auto 0",color:"#fff",fontSize:".26rem"},closeStyle:{display:"none"}},$.post(i,{method:"ella.activity.getWinterVacationBooks",content:JSON.stringify({uid:urlHandle.getParameter("uid")})},function(n){"0"===(n=JSON.parse(n)).status?window.ellaH5.alert(n.message,{style:{color:"#fff"},timeout:1500}):(!function(n){var e=function(n){for(var e="",o=["<span>放假啦~~让宝宝在假期开始时</span>\n      <span>放松身心，准备迎接美好的寒假生活</span>","<span>马上就要过年啦~~我们又长大了一岁</span>\n      <span>多学些人文知识，在假期增长宝宝的眼界！</span>","<span>过年啦~~大家春节快乐</span>\n      <span>带宝宝一起来了解中国传统的过年习俗吧</span>","<span>假期接近尾声了，别难过</span>\n      <span>打开绘本，继续奇妙的梦幻之旅</span>","<span>开学恐惧症？不怕</span>\n      <span>每天一部动画书，给你假期好心情</span>"],t=0;t<n.length;t++){var a=n[t],i="",s="",c=a.winterVacationBooksDto,d=c;if(t!==n.length-1){var r=c[0];i='\n            <div class="top">\n              <div class="book-cover" style="background:#39b3f3 url('.concat(r.bookCoverUrl,') center no-repeat;background-size:cover;">\n                <div class="hot">推荐</div>\n              </div>\n              <div class="book-content">\n                <div class="book-name">《').concat(r.bookName,'》</div>\n                <div class="book-desc">').concat(r.bookIntroduction,'</div>\n                <div class="book-btn ').concat("YES"===r.subscribeStatus?"checked":"",'" data-code="').concat(r.bookCode,'"></div>\n              </div>\n            </div>\n          '),d=d.slice(1)}d.forEach(function(n,e,o){s+='\n            <div class="book" '.concat(3===e?'style="clear:both"':"",'>\n              <div class="cover" style="background:#39b3f3 url(').concat(n.bookCoverUrl,') center no-repeat;background-size:cover;">\n                <div>\n                  <div class="book-btn ').concat("YES"===n.subscribeStatus?"checked":"",'" data-code="').concat(n.bookCode,'"></div>\n                </div>\n              </div>\n              <div class="name">').concat(n.bookName,"</div>\n            </div>\n          ")}),e+='\n          <div class="week week'.concat(t,'">\n              <div class="tag"></div>\n              <div class="title">\n                <span>').concat(a.planTitle.substr(5),"</span>\n                ").concat(o[t],"\n              </div>\n              ").concat(i,'\n              <div class="divide">\n                <div class="left round"></div>\n                <div class="line"></div>\n                <div class="right round"></div>\n              </div>\n              <div class="content">\n                ').concat(s,"\n              </div>\n          </div>\n        ")}return e}(n);document.getElementById("Weeks").innerHTML=e;var o=document.querySelectorAll(".book-btn");try{for(var t=0;t<o.length;t++)o[t].onclick=function(n){var e=this,o='\n          <div class="mail"></div>\n          <div>\n          <div class="title">'.concat("订阅成功",'</div>\n          <div class="content">').concat(c,'</div>\n          <div class="notice">').concat(d,"</div>\n          </div>\n          ");window.ellaH5.alert(o,{onConfirm:function(){a?$.post(i,{method:"ella.activity.subscribeBooks",content:JSON.stringify({uid:urlHandle.getParameter("uid"),bookCode:e.dataset.code})},function(n){"1"!==(n=JSON.parse(n)).status&&window.ellaH5.alert(n.message,{style:{color:"#fff"},timeout:1500})}):window.open(s),e.classList.contains("checked")||e.classList.add("checked")}})}}catch(n){alert(n)}}(n.data),document.getElementById("Loading").style.display="none",document.getElementById("Loading").remove())})}();
//# sourceMappingURL=maps/main.min.js.map
